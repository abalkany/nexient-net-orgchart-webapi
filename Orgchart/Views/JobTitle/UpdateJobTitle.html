<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Edit Job Title</title>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>

    <script>
        function UpdateJobTitle() {
            var oldTitle = $("#oldJobTitle").val();
            var newTitle = $("#newJobTitle").val();
            var updateUrl = '/api/JobTitle/' + oldTitle + "/" + newTitle;

            $.ajax({
                url: updateUrl,
                type: 'POST',
                success: function(result) {
                    window.location = "/Views/JobTitle/JobTitle.html";
                }
            });

        }

        window.onload = InitPage;

        function InitPage() {
            var afterQuestionMark = Array.prototype.slice.call(window.location.href.split("?"), 1);
            var id = Array.prototype.slice.call(afterQuestionMark[0].split("="), 1);

            $("#oldJobTitle").val(id);
        }
    </script>
</head>

<body>
<h1>Update</h1>
    <p /><p />
<h2>Change job-title description:</h2>

<table>
    <tr><td>Old Description:<td><input type="text" value="TBD" id="oldJobTitle" /></td></tr>
    <tr><td>New Description:</td><td><input type="text" id="newJobTitle" /></td>
        <td><input type="button" value="Update" onclick="UpdateJobTitle()"></td></tr>
</table>
    <p>
    <a href="/Views/JobTitle/JobTitle.html">Back to Job Titles</a>
    <br /><br />
    <a href="/Views/Index.html">Back to main page</a>

    <br /><br />
    (c) 2015 - Nexient
</body>
</html>
